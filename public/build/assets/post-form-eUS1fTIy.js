document.addEventListener("DOMContentLoaded",function(){const e=document.getElementById("recipe-form");e&&e.addEventListener("submit",function(t){t.preventDefault();const r=new FormData(e),d=e.action;fetch(d,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:r}).then(n=>n.text().then(i=>{try{return JSON.parse(i)}catch(o){throw console.log("Failed to parse JSON:",i),o}})).then(n=>{n.success?(alert("Recipe created successfully"),e.reset()):alert("Failed to create recipe")}).catch(n=>console.error("Error:",n))})});document.getElementById("add-ingredient").addEventListener("click",function(){let e=document.getElementById("ingredients-container"),t=e.children.length/3,r=`
        <div class="mt-2">
            <input type="text" name="ingredients[${t}][name]" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Ingredient">
            <input type="text" name="ingredients[${t}][quantity]" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Quantity">
            <input type="text" name="ingredients[${t}][unit]" required class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6" placeholder="Unit (e.g., grams, cups)">
        </div>`;e.insertAdjacentHTML("beforeend",r)});
